[![優れたAIエージェントの設計方法](../../../03-agentic-design-patterns/images/lesson-3-thumbnail.png)](https://youtu.be/m9lM8qqoOEA?si=4KimounNKvArQQ0K)

> _(上の画像をクリックして、このレッスンの動画をご覧ください)_

# AIエージェントの設計原則

## はじめに

AIエージェントシステムを構築する方法は数多く存在します。生成AIの設計において曖昧さは機能であり、バグではないことを考慮すると、エンジニアがどこから始めるべきかを把握することは時として困難です。私たちは、開発者がビジネスニーズを解決するための顧客中心のエージェントシステムを構築できるよう、人間中心のUX設計原則を作成しました。これらの設計原則は規範的なアーキテクチャではなく、エージェント体験を定義し構築するチームの出発点として位置づけられています。

一般的に、エージェントは以下を行うべきです：

- 人間の能力を拡張し、スケールさせる（ブレインストーミング、問題解決、自動化など）
- 知識のギャップを埋める（知識領域の習得支援、翻訳など）
- 私たち個人が他者と協働する際の好みに応じて、協力を促進し支援する
- より良い自分になることを助ける（例：ライフコーチ/タスクマスター、感情調整やマインドフルネススキルの習得支援、レジリエンス構築など）

## このレッスンで学ぶこと

- エージェント設計原則とは何か
- これらの設計原則を実装する際に従うべきガイドライン
- 設計原則を使用した例

## 学習目標

このレッスンを完了すると、以下ができるようになります：

1. エージェント設計原則とは何かを説明する
2. エージェント設計原則を使用するためのガイドラインを説明する
3. エージェント設計原則を使用してエージェントを構築する方法を理解する

## エージェント設計原則

![エージェント設計原則](../../../03-agentic-design-patterns/images/agentic-design-principles.png)

### エージェントの動作環境設計

これは、エージェントが動作する環境です。これらの原則は、物理的およびデジタル世界で関与するエージェントの設計方法を導きます。

- **つながりを創出し、分断を避ける** – 人々を他の人々、イベント、実用的な知識に結びつけ、協働とコミュニケーションを促進することを支援します。
- エージェントは、イベント、知識、人々を結びつけることを支援します。
- エージェントは人々の距離を縮めます。人を代替したり軽視したりするのではありません。
- **必要な時にアクセス可能、普段は目立たない存在** – エージェントは主にバックグラウンドで動作し、関連性が高く適切なタイミングでのみユーザーに働きかけます。
  - エージェントは、あらゆるデバイスやプラットフォームで、許可されたユーザーが簡単に見つけてアクセスできます。
  - エージェントは、マルチモーダルな入力と出力（音声、テキスト、画像など）に対応します。
  - エージェントは、ユーザーのニーズに応じて、フォアグラウンドとバックグラウンド、能動的と受動的な動作を柔軟に切り替えます。
  - エージェントが見えない形で動作している場合でも、その処理過程や他のエージェントとの連携は、ユーザーにとって透明性があり制御可能です。

### エージェントの時間軸設計

これは、エージェントが時間の経過とともにどのように動作するかです。これらの原則は、過去、現在、未来にわたって相互作用するエージェントの設計方法を導きます。

- **過去**：状態とコンテキストの両方を含む履歴の反映。
  - エージェントは、イベント、人々、または状態だけでなく、より豊富な履歴データの分析に基づいて、より関連性の高い結果を提供します。
  - エージェントは過去のイベントからつながりを作り、現在の状況に関与するために記憶を能動的に反映します。
- **現在**：単なる通知ではなく、適切な働きかけ。
  - エージェントは、人々との相互作用に対する包括的なアプローチを体現します。イベントが発生したとき、エージェントは静的な通知やその他の定型的な対応を超えます。エージェントは、適切なタイミングでユーザーの注意を向けるために、処理を簡素化したり、状況に応じた働きかけを動的に生成したりできます。
  - エージェントは、周囲の状況、社会的および文化的変化に基づき、ユーザーの意図に合わせて情報を提供します。
  - エージェントの相互作用は段階的で、長期的にユーザーをエンパワーするために複雑さが進化/成長することができます。
- **未来**：適応と進化。
  - エージェントは、さまざまなデバイス、プラットフォーム、モダリティに適応します。
  - エージェントは、ユーザーの行動、アクセシビリティのニーズに適応し、自由にカスタマイズ可能です。
  - エージェントは、継続的なユーザーとの相互作用を通じて形成され、進化します。

### エージェント（コア）

これらは、エージェントの設計の中核における主要な要素です。

- **不確実性を受け入れつつ、信頼関係を築く**。
  - ある程度のエージェントの不確実性は想定されるものです。不確実性は、エージェント設計の重要な要素です。
  - 信頼と透明性は、エージェント設計の基盤となる層です。
  - 人間は、エージェントのオン/オフを制御でき、エージェントの状態は常に明確に把握できるようになっています。

## これらの原則を実装するためのガイドライン

前述の設計原則を活用する際は、以下のガイドラインに従ってください：

1. **透明性**：AIが関与していることをユーザーに知らせ、その機能（過去の行動を含む）、およびフィードバックの提供とシステムの変更方法を説明します。
2. **制御性**：ユーザーがカスタマイズ、好みの指定、パーソナライズを行い、システムとその属性（忘れる能力を含む）を制御できるようにします。
3. **一貫性**：デバイスとエンドポイント間で一貫したマルチモーダル体験を目指します。可能な限り馴染みのあるUI/UX要素を使用し（例：音声相互作用のマイクアイコン）、顧客の認知負荷をできるだけ減らします（例：簡潔な応答、視覚的補助、「詳細」コンテンツを目指す）。

## 設計原則とガイドラインの実践例：旅行エージェントの設計

旅行エージェントを設計することを想像してみてください。設計原則とガイドラインの使用方法は以下のとおりです：

1. **透明性** – 旅行エージェントがAI対応エージェントであることをユーザーに知らせます。開始方法に関する基本的な指示を提供します（例：「こんにちは」メッセージ、サンプルプロンプト）。これを製品ページで明確に文書化します。ユーザーが過去に尋ねたプロンプトのリストを表示します。フィードバックの提供方法を明確にします（親指の上下、フィードバック送信ボタンなど）。エージェントに使用制限やトピック制限がある場合は明確に説明します。
2. **制御性** – システムプロンプトなどでエージェントが作成された後に、ユーザーがエージェントを変更する方法を明確にします。ユーザーがエージェントの詳細度、記述スタイル、エージェントが話すべきでない内容に関する注意事項を選択できるようにします。ユーザーが関連するファイルやデータ、プロンプト、過去の会話を表示および削除できるようにします。
3. **一貫性** – プロンプトの共有、ファイルや写真の追加、誰かや何かのタグ付けのアイコンが標準的で認識可能であることを確認します。エージェントとのファイルアップロード/共有を示すためにペーパークリップアイコンを使用し、グラフィックアップロードを示すために画像アイコンを使用します。

## 追加リソース

- <a href="https://openai.com" target="_blank">エージェントAIシステムのガバナンス実践 | OpenAI</a>
- <a href="https://microsoft.com" target="_blank">HAXツールキットプロジェクト - Microsoft Research</a>
- <a href="https://responsibleaitoolbox.ai" target="_blank">責任あるAIツールボックス</a>

## 前のレッスン

[エージェントフレームワークの探求](../02-explore-agentic-frameworks/README.md)

## 次のレッスン

[ツール使用の設計パターン](../04-tool-use/README.md)